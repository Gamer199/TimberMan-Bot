from PIL import ImageGrab
import constant
import pyautogui
import threading


def printit():
    threading.Timer(5.0, printit).start()
    px = ImageGrab.grab().load()
    left = px[675, 655]
    right = px[1245, 655]

    colors = constant.COLORS
    direction = "right"

    if left in colors:
        print("left %s" % (left,))
        direction = "right"
    elif right in colors:
        print("right %s" % (right,))
        direction = "left"
    else:
        print("%s %s" % (left, right))

    pyautogui.press(direction)


printit()